<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Floppy Bird</title>
      <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <meta name="author" content="Nebez Briefkani" />
      <meta name="description" content="play floppy bird. a remake of popular game flappy bird using just html/css/js" />
      <meta name="keywords" content="flappybird,flappy,bird,floppybird,floppy,html,html5,css,css3,js,javascript,jquery,github,nebez,briefkani,nebezb,open,source,opensource" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

      <!-- Open Graph tags -->
      <meta property="og:title" content="Floppy Bird" />
      <meta property="og:description" content="play floppy bird. a remake of popular game flappy bird using just html/css/js" />
      <meta property="og:type" content="website" />
      <meta property="og:image" content="http://nebez.github.io/floppybird/assets/thumb.png" />
      <meta property="og:url" content="http://nebez.github.io/floppybird/" />
      <meta property="og:site_name" content="Floppy Bird" />

   </head>
   <body>
   <img src='assets/splash.png'>
         <h1> Flappy Beer </h1>
      <p> Tap to control the beer with</p> <div id='concurrent'></div>

    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>

    $(document).ready(function() {


    console.log("i'm in the controller ");
    var socket = io();

    document.addEventListener("keydown", dealWithKeyboard, false);
    document.addEventListener("touchstart", dealWithKeyboard, false);


    function dealWithKeyboard() {
        socket.emit('chat message', 'pressed');
        return false;
    };

    var el = document.getElementById('concurrent');

    socket.on('concurrent players', function(players) {
      el.innerHTML = '' + players + ' players';
    });
    });
    </script>


   </body>
</html>
